// Shree Ganesha

import java.util.Scanner;

public class RailFenceCipher {
    
    // Encrypt method
    public static String encrypt(String text, int rails) {
        // Create an array of StringBuilder (one for each rail)
        StringBuilder[] rail = new StringBuilder[rails];
        for (int i = 0; i < rails; i++) rail[i] = new StringBuilder();

        // Remove spaces for simplicity
        text = text.replaceAll("\\s+", "").toUpperCase();

        int railIndex = 0;
        boolean goingDown = true;

        // Traverse each character
        for (char ch : text.toCharArray()) {
            rail[railIndex].append(ch); // put letter in current rail

            // Change direction when reaching top or bottom rail
            if (railIndex == 0) goingDown = true;
            else if (railIndex == rails - 1) goingDown = false;

            // Move up or down
            railIndex += goingDown ? 1 : -1;
        }

        // Combine all rails to get ciphertext
        StringBuilder cipher = new StringBuilder();
        for (StringBuilder sb : rail) cipher.append(sb);

        return cipher.toString();
    }

    // Main method
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);

        System.out.print("Enter the message: ");
        String text = sc.nextLine();

        System.out.print("Enter number of rails: ");
        int rails = sc.nextInt();

        String encrypted = encrypt(text, rails);
        System.out.println("Encrypted Message: " + encrypted);
    }
}
